<div class="search-filter-tags panel panel-success" ng-if="currentFilters.length">
  <div class="panel-heading flex-row">
    <span translate>activeFilters</span>
    <div class="flex-spacer flex-grow"></div>
    <a href ng-click="removeAll()"
       class="btn btn-default btn-xs remove-all"
       translate>removeAllFilters</a>
  </div>
  <div class="panel-body">
    <a href
       class="filter-group flex-row flex-wrap"
       title="{{'removeThisFilter' | translate}}"
       ng-repeat="filter in currentFilters"
       ng-click="removeFilter(filter)">
      <span class="fa fa-times text-danger delete-icon"></span>
      <strong class="text-no-wrap text-uppercase">
        <span ng-if="filter.key != 'any'" translate>{{('facet-' + filter.key)}}</span>
        <span ng-if="filter.key === 'any'">{{filter.key}}</span>
      </strong>
      <div class="flex-spacer"></div>
      <span ng-if="filter.key === 'any'">
        {{filter.value}}
      </span>
      <span ng-if="filter.key !== 'any'"
            ng-repeat="(key, value) in filter.value track by $index"
            ng-class="{'gn-filter-negative': isNegative(value)}"
            translate>{{key | facetTranslator: filter.key | capitalize}}</span>
      <!-- TODO: Nested aggs support -->
    </a>
  </div>
</div>
